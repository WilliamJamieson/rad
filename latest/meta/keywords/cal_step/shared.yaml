%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/meta/keywords/cal_step/shared-1.0.0

title: Shared Calibration Status

type: object
properties:
  flux:
    title: Flux Scale Application Step
    description: >
      Step in romancal that applies the scaling factor(s)
      necessary to convert from units of data numbers per second
      (DN/s) to megaJanskys per steradian (MJy/sr).
    allOf:
      - $ref: asdf://stsci.edu/datamodels/roman/schemas/meta/helper/cal_step_flag-1.0.0
    archive_catalog:
      datatype: nvarchar(15)
      destination: [ScienceRefData.s_flux]
  outlier_detection:
    title: Outlier Dzetection Step
    description: >
      Step in romancal that detects and flags outliers in a stack of rate images.
    allOf:
      - $ref: asdf://stsci.edu/datamodels/roman/schemas/meta/helper/cal_step_flag-1.0.0
    archive_catalog:
      datatype: nvarchar(15)
      destination: [ScienceRefData.s_outlier_detection]
  skymatch:
    title: Sky Matching for Combining Overlapping Images Step
    description: >
      Step in romancal that matches sky background levels of
      each input image and derives scaling factors to equalize
      overlapping regions.
    allOf:
      - $ref: asdf://stsci.edu/datamodels/roman/schemas/meta/helper/cal_step_flag-1.0.0
    archive_catalog:
      datatype: nvarchar(15)
      destination: [ScienceRefData.s_skymatch]

required: [flux, outlier_detection, skymatch]
