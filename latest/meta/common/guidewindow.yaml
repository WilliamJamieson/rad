%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/meta/common/guidewindow-1.0.0

title: Common Level 1 Guidewindow Metadata

allOf:
  - $ref: asdf://stsci.edu/datamodels/roman/schemas/meta/basic/level_1-1.0.0
  - type: object
    properties:
      fgs_modes_used:
        title: FGS Guiding Modes
        description: |
          List of unique FGS guiding modes used during the guide window exposure.
        type: array
        items:
          type: string
          enum:
            [
              "NOT_CONFIGURED",
              "STANDBY",
              "WIM_ACQ_VW",
              "WIM_ACQ_NA",
              "WIM_TRK",
              "WIM_TRK_S",
              "WSM_ACQ_HC",
              "WSM_ACQ_VC",
              "WSM_TRK",
              "WIM_DFC",
            ]
          maxLength: 20
        sdf:
          special_processing: VALUE_REQUIRED
          source:
            origin: TBD
        archive_catalog:
          datatype: nvarchar(20)
          destination: [GuideWindow.gw_fgs_modes_used]
      guide_star_acq_num:
        title: Guide Star Acquisition Number
        description: |
          Guide star acquisition number (1-9) for the guide window exposure.
        type: integer
        sdf:
          special_processing: VALUE_REQUIRED
          source:
            origin: TBD
        archive_catalog:
          datatype: int
          destination: [GuideWindow.gw_guide_star_acq_num]
      guide_window_id:
        title: Guide Window ID
        description: |
          A unique identification number of the guide window. This identifier combines the
          visit identifier and guide star acquisition number, and is set in the visit information
          uplinked to the observatory. As the number may be zero-padded, this value is saved as
          a string. See technical report Roman-STScI-000193 "Roman Programmatic Data
          Identification" for more information.
        type: string
        maxLength: 120
        sdf:
          special_processing: VALUE_REQUIRED
          source:
            origin: TBD
        archive_catalog:
          datatype: nvarchar(120)
          destination: [GuideWindow.gw_guide_window_id]
    required: [fgs_modes_used, guide_star_acq_num, guide_window_id]
