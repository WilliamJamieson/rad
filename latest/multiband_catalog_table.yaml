%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/multiband_catalog_table-1.1.0

title: Multiband source catalog table schema

type: object
properties:
  columns:
    allOf:
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/flagged_spatial_index"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^flagged_spatial_index$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/bbox_xmax"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^bbox_xmax$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/bbox_xmin"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^bbox_xmin$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/bbox_ymax"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^bbox_ymax$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/bbox_ymin"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^bbox_ymin$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/image_flags"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^image_flags$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/label"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^label$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/segment_area"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^segment_area$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/dec"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^dec$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/dec_centroid"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^dec_centroid$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/dec_centroid_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^dec_centroid_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/dec_centroid_win"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^dec_centroid_win$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/dec_centroid_win_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^dec_centroid_win_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/ra"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^ra$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/ra_centroid"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^ra_centroid$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/ra_centroid_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^ra_centroid_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/ra_centroid_win"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^ra_centroid_win$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/ra_centroid_win_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^ra_centroid_win_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/x_centroid"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^x_centroid$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/x_centroid_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^x_centroid_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/x_centroid_win"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^x_centroid_win$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/x_centroid_win_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^x_centroid_win_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/y_centroid"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^y_centroid$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/y_centroid_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^y_centroid_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/y_centroid_win"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^y_centroid_win$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/y_centroid_win_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^y_centroid_win_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/aper_bkg_~band~_flux"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^aper_bkg_(f062|f087|f106|f129|f158|f184|f213|f146)_flux$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/aper_bkg_~band~_flux_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^aper_bkg_(f062|f087|f106|f129|f158|f184|f213|f146)_flux_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/aper~radius~_~band~_flux"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^aper[0-9]{2}_(f062|f087|f106|f129|f158|f184|f213|f146)_flux$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/aper~radius~_~band~_flux_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^aper[0-9]{2}_(f062|f087|f106|f129|f158|f184|f213|f146)_flux_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/kron_~band~_abmag"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^kron_(f062|f087|f106|f129|f158|f184|f213|f146)_abmag$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/kron_~band~_abmag_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^kron_(f062|f087|f106|f129|f158|f184|f213|f146)_abmag_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/kron_~band~_flux"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^kron_(f062|f087|f106|f129|f158|f184|f213|f146)_flux$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/kron_~band~_flux_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^kron_(f062|f087|f106|f129|f158|f184|f213|f146)_flux_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/segment_~band~_flux"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^segment_(f062|f087|f106|f129|f158|f184|f213|f146)_flux$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/segment_~band~_flux_err"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^segment_(f062|f087|f106|f129|f158|f184|f213|f146)_flux_err$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/warning_flags"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^warning_flags$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/cxx"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^cxx$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/cxy"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^cxy$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/cyy"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^cyy$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/ellipticity"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^ellipticity$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/fluxfrac_radius_50_~band~"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^fluxfrac_radius_50_(f062|f087|f106|f129|f158|f184|f213|f146)$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/is_extended_~band~"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^is_extended_(f062|f087|f106|f129|f158|f184|f213|f146)$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/fwhm"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^fwhm$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/kron_radius"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^kron_radius$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/orientation_pix"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^orientation_pix$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/orientation_sky"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^orientation_sky$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/roundness1_~band~"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^roundness1_(f062|f087|f106|f129|f158|f184|f213|f146)$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/semimajor"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^semimajor$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/semiminor"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^semiminor$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/sharpness_~band~"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^sharpness_(f062|f087|f106|f129|f158|f184|f213|f146)$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/nn_distance"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^nn_distance$
      - not:
          type: array
          items:
            not:
              allOf:
                - $ref: "asdf://stsci.edu/datamodels/roman/schemas/source_catalog_columns-1.1.0#/definitions/nn_label"
                - type: object
                  properties:
                    name:
                      type: string
                      pattern: ^nn_label$
